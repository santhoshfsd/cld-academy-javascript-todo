<!DOCTYPE html>
<html>

<head>
	<meta charset="utf-8">
	<title>Javascript Todo App</title>

	<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css">
</head>

<body>
	<div class="container">
		<h1>Javascript Todo App</h1>
		<div class="row mt-4">
			<div class="col-8">
				<ul id="todo-list">
				</ul>
			</div>
			<div class="col-4">
				<form>
					<input type="text" class="form-control" id="todoTitle" placeholder="Todo title...">
					<button onclick="newTodo()" class="addBtn btn btn-sm btn-primary form-control mt-3">Add</span>
				</form>
			</div>
		</div>
	</div>

</body>

<script>
	var myList = document.getElementById("todo-list");
	registerListener()
	var json_data = []
	json_data.forEach(data => {
		newTodo(data.title)
	})

	function deleteTodo() {
		var li = this.parentElement;
		myList.removeChild(li)
	}
	function registerListener() {
		var closeButtons = document.getElementsByClassName("delete");
		for (var i = 0; i < closeButtons.length; i++) {
			closeButtons[i].addEventListener('click', deleteTodo, false)
		}
	}
	function newTodo(title) {
		if (!title) {
			title = document.getElementById("todoTitle").value;
		}
		var listItem = document.createElement("li");
		listItem.appendChild(document.createTextNode(title));
		myList.appendChild(listItem);
		var deleteLink = document.createElement("a");
		deleteLink.href = "#"
		deleteLink.className = "btn btn-sm btn-danger m-1 delete"
		deleteLink.appendChild(document.createTextNode("Delete"));
		listItem.appendChild(deleteLink);
		myList.appendChild(listItem);
		registerListener();
	}

</script>

</html>